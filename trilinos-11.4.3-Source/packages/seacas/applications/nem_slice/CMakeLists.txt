INCLUDE(TribitsSubPackageMacros)
INCLUDE(TribitsAddExecutable)
INCLUDE(TribitsLibraryMacros)
INCLUDE(CheckIncludeFile)

TRIBITS_SUBPACKAGE(Nemslice)

IF (${PACKAGE_NAME}_ENABLE_Zoltan)
   INCLUDE_DIRECTORIES(${Zoltan_INCLUDE_DIRS})
   SET(ZOLTAN_DEP zoltan)
   ADD_DEFINITIONS(-DUSE_ZOLTAN)
ENDIF()

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

SET(HEADERS "")
APPEND_GLOB(SOURCES ${CMAKE_CURRENT_SOURCE_DIR}/*.C)
CHECK_INCLUDE_FILE( sys/resource.h HAS_GETRUSAGE )

TRIBITS_ADD_EXECUTABLE(nem_slice NOEXEPREFIX NOEXESUFFIX SOURCES ${SOURCES} DEPLIBS ${ZOLTAN_DEP} exodus nemesis chaco suplib COMM serial mpi)
install_executable(nem_slice)

TRIBITS_SUBPACKAGE_POSTPROCESS()

